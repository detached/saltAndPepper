#parse("views/components/head.html")
<body>
<div id="layout">
    #parse("views/components/menu.html")
    <div id="main">
        <div class="header">
            <h1>$translations.get("profile.title")</h1>
        </div>
        <div class="content centered">

            <div class="content-section">
                <form class="pure-form pure-form-aligned">
                    <div class="pure-control-group">
                        <fieldset>
                            <label for="name">$translations.get("profile.name"):</label>
                            <input type="text" id="name" name="name" value="$profile.name" readonly/>
                        </fieldset>
                        <fieldset>
                            <label for="role">$translations.get("profile.role"):</label>
                            <input type="text" id="role" name="role" value="$profile.role" readonly/>
                        </fieldset>
                    </div>
                </form>
            </div>

            <div class="content-section">
                <h3>$translations.get("profile.changePassword.title")</h3>
                <form class="pure-form pure-form-aligned" method="post" action="/profile/changePassword">
                    <div class="pure-control-group">
                        <fieldset>
                            <label for="oldPassword">$translations.get("profile.changePassword.oldPassword"):</label>
                            <input type="password" id="oldPassword" name="oldPassword"
                                   placeholder="$translations.get('profile.changePassword.oldPassword')"/>
                        </fieldset>
                        <fieldset>
                            <label for="newPassword">$translations.get("profile.changePassword.newPassword"):</label>
                            <input type="password" id="newPassword" name="newPassword"
                                   placeholder="$translations.get('profile.changePassword.newPassword')"/>
                        </fieldset>
                    </div>
                    <p>$translations.get("password.rules")</p>
                    <button class="pure-button pure-button-primary" type="submit">
                        $translations.get("profile.changePassword.save")
                    </button>
                    #if($passwordChangeSuccess)
                    <p>$translations.get("profile.changePassword.success")</p>
                    #end
                </form>
                #if($passwordChangeError)
                <span class="form-error-message">$passwordChangeError</span>
                #end
            </div>

            #if($allowedToInvite)
            <div class="content-section">

                <h3>$translations.get("profile.invitation.title")</h3>
                <p>$translations.get("profile.invitation.text")</p>

                <form class="pure-form pure-form-aligned" method="post" action="/profile/invitation">
                    <div class="pure-control-group">
                        #if($invitationLink)

                        <fieldset>
                            <input class="pure-button" type="submit" id="createInvitation" name="createInvitation"
                                   value="$translations.get('profile.createInvitation')" disabled/>
                        </fieldset>
                        <fieldset>
                            <input class="pure-input-2-3" type="text" id="invitationLink" name="invitationLink"
                                   value="$invitationLink" readonly/>
                            <button class="pure-button" onclick="copyToClipboard('invitationLink');">
                                $translations.get('copyToClipboard')
                            </button>
                        </fieldset>

                        #else

                        <input class="pure-button" type="submit" id="createInvitation" name="createInvitation"
                               value="$translations.get('profile.createInvitation')"/>

                        #end
                    </div>
                </form>
            </div>
            #end
        </div>
    </div>
</div>
</body>
#parse("views/components/foot.html")